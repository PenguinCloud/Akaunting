---
- name: Install dependencies
  apt:
    pkg:
      - lsb-release
      - ca-certificates
      - apt-transport-https
      - openssl
      - software-properties-common
      - nginx
      - python3-pymysql
      - python3-certbot-nginx
      - certbot
    state: present
    update_cache: yes

- name: Add php repo
  apt_repository:
    repo: ppa:ondrej/php
    state: present

- name: Install php packages as required by Akaunting
  apt:
    name:
      - php8.1
      - php8.1-bcmath
      - php8.1-ctype
      - php8.1-dom
      - php8.1-xml
      - php8.1-fileinfo
      - php8.1-fpm
      - php8.1-mysql
      - php8.1-zip
      - php8.1-intl
      - php8.1-ldap
      - php8.1-gd
      - php8.1-cli
      - php8.1-bz2
      - php8.1-curl
      - php8.1-mbstring
      - php8.1-pgsql
      - php8.1-opcache
      - php8.1-soap
      - php8.1-cgi
      - php8.1-pdo
      - php8.1-tokenizer
      - php8.1-zip
    state: present
    update_cache: yes


