---
- name: Add php repo
  apt_repository:
    repo: ppa:ondrej/php
    state: present

- name: Install dependencies
  apt:
    name:
      - php8.0
      - php8.0-bcmath
      - php8.0-ctype
      - php8.0-curl
      - php8.0-dom
      - php8.0-fileinfo
      - php8.0-intl
      - php8.0-gd
      - php8.0-mbstring
      - openssl
      - php8.0-pdo
      - php8.0-tokenizer
      - php8.0-xml
      - php8.0-zip
      - php8.0-fpm
      - php8.0-mysql
      - python3-pymysql
      - nginx-full
      - npm
    state: present
    update_cache: yes


#- name: Install php packages as required by Akaunting
#  apt:
#    name:
#      - libapache2-mod-php
#      - software-properties-common
#      - lsb-release
#      - mariadb-client
#      - ca-certificates
#      - apt-transport-https
#      - php8.1-common
#      - php8.1-imagick
#      - php8.1-mysql
#      - php8.1-gd
#      - php8.1-bcmath
#      - php8.1-curl
#      - php8.1-zip
#      - php8.1-xml
#      - php8.1-ctype
#      - php8.1-dom
#      - php8.1-fileinfo
#      - php8.1-pdo
#      - php8.1-tokenizer
#      - php8.1-mbstring
#      - php8.1-bz2
#      - php8.1-intl
#      - php8.1-fpm
#      - php8.1-ldap
#      - php8.1-gd
#      - php8.1-cli
#      - php8.1-bz2
#      - php8.1-curl
#      - php8.1-pgsql
#      - php8.1-opcache
#      - php8.1-soap
#      - php8.1-cgi
#      - python3-pymysql
#      - nginx-full
#      - npm
#    state: present
#    update_cache: yes



